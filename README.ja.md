# 瞑想 Chrome 拡張機能 🧘

心地よいBGMと自然な音声ガイダンスで瞑想セッションを提供するChrome拡張機能です。英語と日本語に対応し、モダンなWeb技術で構築された、落ち着いたユーザー体験を重視したデザインです。

![Chrome Web Store Version](https://img.shields.io/badge/manifest-v3-blue)
![Languages](https://img.shields.io/badge/languages-EN%20%7C%20JA-green)
![License](https://img.shields.io/badge/license-MIT-purple)

## ✨ 機能

### 主な機能
- **🧘 ガイド付き瞑想セッション** - 5、10、15、20、30分から選択可能
- **🎵 背景音** - リラックスできる音楽、自然音、または無音
- **🗣️ 自然な音声ガイド** - AIによる日本語・英語の音声合成
- **🎯 瞑想スタイル** - 呼吸瞑想、ボディスキャン、慈悲の瞑想、マインドフルネス
- **📱 シンプルなインターフェース** - 静寂と明瞭さを重視したミニマリストデザイン
- **💾 オフライン対応** - 初期設定後はインターネット接続なしで動作

### 高度な機能
- **⏰ 瞑想リマインダー** - 毎日の通知リマインダー
- **📊 進捗トラッキング** - 瞑想履歴の記録
- **🎚️ カスタマイズ可能な音声** - 音声とBGMの個別音量調整
- **🌙 コンテキストメニュー** - どのWebページからでも瞑想に素早くアクセス
- **🔔 セッション通知** - セッション完了時の優しい通知

## 📦 インストール方法

### Chrome ウェブストアから（準備中）
審査後、Chrome ウェブストアで公開予定です。

### 手動インストール（開発者モード）

1. **拡張機能をダウンロード**
   ```bash
   git clone https://github.com/knishioka/meditation-chrome-extension.git
   cd meditation-chrome-extension
   ```

2. **依存関係をインストール**
   ```bash
   npm install
   ```

3. **APIキーの設定（オプション）**
   
   フル機能を使用するには以下が必要です：
   - Google Cloud Text-to-Speech APIキー
   - Freesound APIキー
   
   ```bash
   cp .env.example .env
   # .envファイルを編集してAPIキーを追加
   ```
   
   > **注意**: APIキーなしでも、事前録音された音声ファイルを使用してオフラインモードで動作します。

4. **拡張機能をビルド**
   ```bash
   npm run build
   ```

5. **Chromeに読み込む**
   - Chromeを開き、`chrome://extensions/` にアクセス
   - **「デベロッパーモード」**を有効化（右上のトグル）
   - **「パッケージ化されていない拡張機能を読み込む」**をクリック
   - プロジェクトディレクトリの`dist`フォルダを選択
   - ツールバーに拡張機能のアイコンが表示されます！

## 🚀 使い方

### はじめに

1. **拡張機能アイコンをクリック** - 瞑想インターフェースが開きます
2. **設定を選択**：
   - 時間（5〜30分）
   - 瞑想の種類
   - 背景音の設定
   - 言語（英語/日本語）
3. **瞑想を開始** - 「瞑想を開始」をクリック
4. **セッション中**：
   - いつでも一時停止/再開可能
   - 音量をリアルタイムで調整
   - 必要に応じてセッションを停止

### 瞑想の種類

#### 🌬️ 呼吸瞑想
自然な呼吸のリズムに集中します。初心者やストレス解消に最適です。

#### 🏃 ボディスキャン
体の各部分への気づきを通じた段階的リラクゼーション。身体的な緊張の解放に効果的です。

#### 💝 慈悲の瞑想
自分と他者への思いやりを育みます。感情的な健康を向上させます。

#### 🎯 マインドフルネス
今この瞬間への気づきの練習。集中力と精神的な明晰さを向上させます。

### キーボードショートカット

- `スペース` - 再生/一時停止
- `Esc` - セッション停止
- `↑/↓` - 音声音量調整
- `←/→` - BGM音量調整

## 🛠️ 開発

### 必要条件

- Node.js 18以上、npm 9以上
- Chrome ブラウザ（バージョン110以上）
- Git

### 開発環境のセットアップ

1. **クローンとインストール**
   ```bash
   git clone https://github.com/knishioka/meditation-chrome-extension.git
   cd meditation-chrome-extension
   npm install
   ```

2. **開発モード**
   ```bash
   npm run dev  # webpackをwatchモードで起動
   ```

3. **テストの実行**
   ```bash
   npm test           # すべてのテストを実行
   npm test:watch     # watchモードでテストを実行
   npm test:coverage  # カバレッジレポートを生成
   ```

4. **コード品質**
   ```bash
   npm run lint       # コードスタイルをチェック
   npm run lint:fix   # 問題を自動修正
   npm run format     # Prettierでフォーマット
   ```

## 🔧 設定

### ユーザー設定

すべての設定はローカルに保存され、デバイス間で同期されます：

- **言語**: インターフェースと音声の言語設定
- **デフォルト時間**: お好みのセッション時間
- **音声設定**: 音量レベルと音の選択
- **リマインダー**: 毎日の瞑想リマインダー時刻

### オフラインモード

オフライン使用のためのフォールバック音声を含みます：
- 両言語での基本的な音声ガイダンス
- アンビエント背景音
- 限定的ながら機能的な瞑想体験

## 📄 ライセンス

このプロジェクトはMITライセンスの下でライセンスされています - 詳細は[LICENSE](LICENSE)ファイルを参照してください。

## 🙏 謝辞

- 自然な音声合成を提供するGoogle Cloud Text-to-Speech
- 瞑想音源を提供するFreesoundコミュニティ
- すべての貢献者とテスター

## 📞 サポート

- **問題報告**: [GitHub Issues](https://github.com/knishioka/meditation-chrome-extension/issues)
- **ディスカッション**: [GitHub Discussions](https://github.com/knishioka/meditation-chrome-extension/discussions)

---

マインドフルネスとウェルビーイングのために 💙 を込めて作りました